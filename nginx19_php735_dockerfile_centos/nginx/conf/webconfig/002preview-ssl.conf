server {
        listen  2443 ssl;
        server_name localhost;
        index index.html index.htm index.php;
        root /data/wwwroot;
        
        ssl_certificate /data/server/nginx/conf/ssl/sslcer.pem;
        ssl_certificate_key /data/server/nginx/conf/ssl/sslkey.pem;
        location / {
                try_files $uri $uri/ /index.php?_url=$uri&$args;
        }


        location ~ .*\.(php|php5)?$ {
                #fastcgi_pass  unix:/tmp/php-cgi.sock;
                fastcgi_pass  127.0.0.1:9006;
                fastcgi_index index.php;
                include fastcgi.conf;
       }
                set $path_info "";
                set $real_script_name $fastcgi_script_name;
                if ($fastcgi_script_name ~ "^(.+?\.php)(/.+)$") {
                        set $real_script_name $1;
                        set $path_info $2;
                }
                fastcgi_param SCRIPT_FILENAME $document_root$real_script_name;
                fastcgi_param SCRIPT_NAME $real_script_name;
                fastcgi_param PATH_INFO $path_info;
                fastcgi_param ENVIRON preview;
        location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$ {
                expires 30d;
        }

        location ~ .*\.(js|css)?$ {
                expires 1h;
        }

        access_log  /data/logs/nginx/access/default_access.log;
}
